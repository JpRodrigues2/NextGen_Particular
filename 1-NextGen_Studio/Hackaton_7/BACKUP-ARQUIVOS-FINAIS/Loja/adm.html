<div class="title-block">
    <h4>FunPack01 - Loja Virtual</h4>
    <a class="btn btn-default" ng-click="back()">{{"BACK"|translate}}</a>
</div>

<div class="row">
    <!-- FormulÃ¡rio (lado esquerdo) -->
    <div class="col-md-9">
        <p>
            Configure aqui o widget de loja virtual. Habilite/desabilite itens, personalize cores dos botÃµes de compra, avisos de saldo insuficiente e layout geral.
        </p>

        <!-- SeÃ§Ã£o de Gerenciamento de Itens -->
        <div class="row">
            <div class="col-sm-12">
                <h5>Habilitar/Desabilitar Itens</h5>
                <p style="font-size: 12px; color: #666;">Selecione quais itens serÃ£o desabilitados na loja:</p>
                <div class="checkbox-list" style="max-height: 200px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; border-radius: 5px;">
                    <div ng-if="availableItems.length === 0" style="text-align: center; color: #666; padding: 20px;">
                        Carregando itens...
                    </div>
                    <div ng-repeat="item in availableItems" class="checkbox">
                        <label>
                            <input type="checkbox" 
                                   ng-model="item.disabled"
                                   ng-change="updateDisabledItems()"> 
                            <strong>{{item.name}}</strong> ({{item.price}} moedas)
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <hr />

        <!-- SeÃ§Ã£o de Cores dos BotÃµes de Compra -->
        <h5>Cores dos BotÃµes de Compra</h5>
        
        <div class="row" style="margin-top: 20px;">
            <div class="col-sm-6">
                <label>Cor do BotÃ£o de Compra</label>
                <input ng-model="obj.buy_button_color" type="color" class="form-control" />
            </div>
            <div class="col-sm-6">
                <label>Cor do BotÃ£o de Compra (Hover)</label>
                <input ng-model="obj.buy_button_hover_color" type="color" class="form-control" />
            </div>
        </div>

        <hr />

        <!-- SeÃ§Ã£o de Avisos de Saldo Insuficiente -->
        <h5>Avisos de Saldo Insuficiente</h5>
        
        <div class="row" style="margin-top: 20px;">
            <div class="col-sm-6">
                <label>Cor da Mensagem de Saldo Insuficiente</label>
                <input ng-model="obj.insufficient_balance_color" type="color" class="form-control" />
            </div>
        </div>

        <hr />

        <!-- SeÃ§Ã£o de Layout Geral -->
        <h5>Layout Geral</h5>
        
        <div class="row" style="margin-top: 20px;">
            <div class="col-sm-6">
                <label>Cor do Fundo</label>
                <input ng-model="obj.background_color" type="color" class="form-control" />
            </div>
            <div class="col-sm-6">
                <label>Cor do CabeÃ§alho</label>
                <input ng-model="obj.header_color" type="color" class="form-control" />
            </div>
        </div>

        <div class="row" style="margin-top: 20px;">
            <div class="col-sm-6">
                <label>Cor Principal do Texto</label>
                <input ng-model="obj.text_color" type="color" class="form-control" />
            </div>
        </div>
    </div>

    <!-- PrÃ©via (lado direito) -->
    <div class="col-md-3">
        <h5>PrÃ©via:</h5>
        <div style="border-radius: 15px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1); max-width: 250px; background: #7fbfb3; border: 2px solid white;"
             ng-style="{'background-color': obj.background_color, 'border-color': obj.text_color}">
            <!-- Header -->
            <div style="padding: 10px; text-align: center; font-weight: bold; font-size: 16px; color: #2d5d56; background-color: #f9b87f;"
                 ng-style="{'background-color': obj.header_color, 'color': obj.text_color}">
                {{ t('storeTitle') }}
            </div>
            
            <!-- Saldo -->
            <div style="background-color: #fff6d6; padding: 10px; margin: 10px; border-radius: 10px; text-align: center; border: 2px solid #f9b87f;"
                 ng-style="{'background-color': '#fff6d6', 'border-color': obj.header_color, 'color': obj.text_color}">
                <span style="font-size: 12px; font-weight: bold;">{{ t('currentBalance') }} 100 ðŸª™</span>
            </div>
            
            <!-- Content -->
            <div style="padding: 15px;">
                <!-- Items section -->
                <div style="text-align: center; font-weight: bold; margin-bottom: 10px; font-size: 14px;"
                     ng-style="{'color': obj.text_color}">
                    {{ t('availableItems') }}
                </div>
                
                <!-- Sample items -->
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 8px; background: #c2e5dc; border-radius: 10px; margin-bottom: 8px; border-bottom: 2px solid #f9b87f;"
                     ng-style="{'background-color': '#004a8f', 'border-bottom-color': obj.header_color, 'color': obj.text_color}">
                    <div style="display: flex; align-items: center;">
                        <div style="width: 30px; height: 30px; background: rgba(255,255,255,0.3); border-radius: 5px; margin-right: 8px; display: flex; align-items: center; justify-content: center;">ðŸ“¦</div>
                        <div>
                            <div style="font-weight: bold; font-size: 11px;">Item Premium</div>
                            <div style="font-size: 10px;">ðŸª™ 100</div>
                        </div>
                    </div>
                    <button style="padding: 4px 8px; border: none; border-radius: 5px; font-size: 9px; color: white; cursor: pointer; font-weight: bold;"
                            ng-style="{'background-color': obj.buy_button_color}">
                        {{ t('buyButton') }}
                    </button>
                </div>
                
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 8px; background: #c2e5dc; border-radius: 10px; border-bottom: 2px solid #f9b87f;"
                     ng-style="{'background-color': '#004a8f', 'border-bottom-color': obj.header_color, 'color': obj.text_color}">
                    <div style="display: flex; align-items: center;">
                        <div style="width: 30px; height: 30px; background: rgba(255,255,255,0.3); border-radius: 5px; margin-right: 8px; display: flex; align-items: center; justify-content: center;">ðŸ“¦</div>
                        <div>
                            <div style="font-weight: bold; font-size: 11px;">Item BÃ¡sico</div>
                            <div style="font-size: 10px;">ðŸª™ 50</div>
                        </div>
                    </div>
                    <button style="padding: 4px 8px; border: none; border-radius: 5px; font-size: 9px; color: white; cursor: pointer; font-weight: bold;"
                            ng-style="{'background-color': obj.buy_button_color}">
                        {{ t('buyButton') }}
                    </button>
                </div>
                
                <!-- Sample error message -->
                <div style="margin-top: 10px; text-align: center; font-size: 10px; padding: 5px; background: rgba(244, 67, 54, 0.1); border-radius: 5px; border: 1px solid;"
                     ng-style="{'color': obj.insufficient_balance_color, 'border-color': obj.insufficient_balance_color}">
                    {{ t('insufficientBalance') }}
                </div>
            </div>
        </div>
        
        <div style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px;">
            <h6>Itens Desabilitados: {{getDisabledItemsCount()}}</h6>
            <p style="font-size: 11px; color: #666;">
                {{getDisabledItemsCount()}} de {{availableItems.length}} itens desabilitados
            </p>
        </div>
    </div>
</div>

<hr />

<div class="text-right">
    <button ng-click="applyBancoDoBrasilStyle()" class="btn btn-info">Estilo Banco do Brasil</button>
    <button ng-click="resetToDefault()" class="btn btn-warning">Restaurar PadrÃ£o</button>
    <button ng-click="back()" class="btn btn-default">{{"CANCEL"|translate}}</button>
    <button ng-click="save()" class="btn btn-default">{{"SAVE"|translate}}</button>
</div>